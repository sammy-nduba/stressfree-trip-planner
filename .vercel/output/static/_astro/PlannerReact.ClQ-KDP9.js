import{j as e}from"./jsx-runtime.D_zvdyIk.js";import{r as i}from"./index.Cd_vQiNd.js";function q(){const[s,u]=i.useState({destination:"",startDate:"",endDate:"",adults:2,children:0,budget:"",travelStyle:"",interests:[],contactName:"",contactEmail:"",contactPhone:"",additionalNotes:""}),[h,N]=i.useState(!1),[m,d]=i.useState(null),[E,x]=i.useState(""),[l,b]=i.useState({}),[o,g]=i.useState([{id:1,label:"Research destination activities",done:!1},{id:2,label:"Book accommodation",done:!1},{id:3,label:"Arrange transportation",done:!1},{id:4,label:"Check visa requirements",done:!1}]),[f,F]=i.useState(""),[c,p]=i.useState(1),D=["Kenya","Uganda","Ethiopia","Tanzania","South Africa","Morocco","Egypt","Zanzibar","Rwanda","Botswana","Namibia","Madagascar"],S=["Adventure","Relaxation","Cultural","Wildlife Safari","Beach","City Break","Luxury","Budget"],k=["Wildlife","Beaches","Mountains","History","Food & Cuisine","Photography","Shopping","Nightlife","Nature","Adventure Sports"],n=(t,a)=>{u(r=>({...r,[t]:a})),l[t]&&b(r=>{const v={...r};return delete v[t],v})},C=t=>{u(a=>({...a,interests:a.interests.includes(t)?a.interests.filter(r=>r!==t):[...a.interests,t]}))},A=()=>{const t={},a=new Date;if(a.setHours(0,0,0,0),s.startDate&&new Date(s.startDate)<a&&(t.startDate="Start date cannot be in the past"),s.startDate&&s.endDate){const r=new Date(s.startDate);new Date(s.endDate)<r&&(t.endDate="End date must be after start date")}return s.contactPhone&&(/^[\+]?[(]?[0-9]{3}[)]?[-\s\.]?[0-9]{3}[-\s\.]?[0-9]{4,6}$/im.test(s.contactPhone)||(t.contactPhone="Please enter a valid phone number")),b(t),Object.keys(t).length===0},P=async()=>{if(!A()){d("error"),x("Please fix the errors in the form before submitting.");return}N(!0),d(null),x("");try{const t=await fetch("/api/trip-requests",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({destination:s.destination,start_date:s.startDate,end_date:s.endDate,adults:s.adults,children:s.children,budget:s.budget,travel_style:s.travelStyle,interests:s.interests,contact_name:s.contactName,contact_email:s.contactEmail,contact_phone:s.contactPhone,additional_notes:s.additionalNotes})}),a=await t.json();t.ok?d("success"):(d("error"),x(a.error||"Failed to submit request. Please try again."))}catch{d("error"),x("An error occurred. Please check your connection and try again.")}finally{N(!1)}},$=()=>{u({destination:"",startDate:"",endDate:"",adults:2,children:0,budget:"",travelStyle:"",interests:[],contactName:"",contactEmail:"",contactPhone:"",additionalNotes:""}),d(null),p(1),b({})},y=()=>{f.trim()&&(g([...o,{id:Date.now(),label:f,done:!1}]),F(""))},T=t=>{g(o.map(a=>a.id===t?{...a,done:!a.done}:a))},B=t=>{g(o.filter(a=>a.id!==t))},w=o.filter(t=>t.done).length,R=o.length>0?w/o.length*100:0,j=s.destination&&s.startDate&&s.endDate&&s.contactName&&s.contactEmail;return m==="success"?e.jsxs("div",{className:"max-w-3xl mx-auto bg-white rounded-3xl shadow-lg p-12 text-center",children:[e.jsx("div",{className:"w-24 h-24 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-6",children:e.jsx("span",{className:"text-5xl",children:"âœ¨"})}),e.jsx("h3",{className:"text-4xl font-['Playfair_Display'] text-[#006064] mb-4",children:"Trip Request Received!"}),e.jsxs("p",{className:"text-xl text-[#006064]/70 mb-8",children:["Thank you, ",e.jsx("strong",{children:s.contactName}),"! We've received your request for a trip to ",e.jsx("strong",{children:s.destination}),"."]}),e.jsxs("div",{className:"bg-[#E0F7FA] p-6 rounded-xl mb-8 text-left max-w-md mx-auto",children:[e.jsxs("p",{className:"text-[#006064] mb-2",children:["We will review your details and get back to you at ",e.jsx("strong",{children:s.contactEmail})," shortly with a custom quote."]}),e.jsxs("p",{className:"text-[#006064] text-sm",children:["Reference ID: #",Math.floor(Math.random()*1e4)]})]}),e.jsxs("div",{className:"flex gap-4 justify-center",children:[e.jsx("button",{onClick:$,className:"px-8 py-3 bg-[#26A69A] text-white rounded-full hover:bg-[#1F8B7F] transition-colors font-medium",children:"Plan Another Trip"}),e.jsx("a",{href:"/",className:"px-8 py-3 border-2 border-[#26A69A] text-[#26A69A] rounded-full hover:bg-[#E0F7FA] transition-colors font-medium",children:"Back to Home"})]})]}):e.jsxs("div",{className:"max-w-5xl mx-auto",children:[e.jsx("div",{className:"flex justify-center mb-8",children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:`flex items-center gap-2 ${c===1?"text-[#26A69A]":"text-[#006064]/50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${c===1?"bg-[#26A69A] text-white":"bg-[#E0F7FA] text-[#006064]"}`,children:"1"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:"Travel Details"})]}),e.jsx("div",{className:"w-16 h-1 bg-[#E0F7FA]"}),e.jsxs("div",{className:`flex items-center gap-2 ${c===2?"text-[#26A69A]":"text-[#006064]/50"}`,children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center font-bold ${c===2?"bg-[#26A69A] text-white":"bg-[#E0F7FA] text-[#006064]"}`,children:"2"}),e.jsx("span",{className:"font-medium hidden sm:inline",children:"Planning Checklist"})]})]})}),c===1&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8",children:[e.jsx("h3",{className:"text-3xl font-['Playfair_Display'] text-[#006064] mb-2",children:"Where would you like to go?"}),e.jsx("p",{className:"text-[#006064]/70 mb-8",children:"Tell us about your dream trip"}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#006064] font-medium mb-2",children:["Destination ",e.jsx("span",{className:"text-[#FF8A65]",children:"*"})]}),e.jsxs("select",{value:s.destination,onChange:t=>n("destination",t.target.value),className:"w-full px-4 py-3 rounded-xl border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]",children:[e.jsx("option",{value:"",children:"Select a destination"}),D.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#006064] font-medium mb-2",children:["Start Date ",e.jsx("span",{className:"text-[#FF8A65]",children:"*"})]}),e.jsx("input",{type:"date",value:s.startDate,onChange:t=>n("startDate",t.target.value),className:`w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 bg-[#FFF8E1] ${l.startDate?"border-red-500 focus:ring-red-200":"border-[#E0F7FA] focus:ring-[#26A69A]"}`}),l.startDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.startDate})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#006064] font-medium mb-2",children:["End Date ",e.jsx("span",{className:"text-[#FF8A65]",children:"*"})]}),e.jsx("input",{type:"date",value:s.endDate,onChange:t=>n("endDate",t.target.value),className:`w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 bg-[#FFF8E1] ${l.endDate?"border-red-500 focus:ring-red-200":"border-[#E0F7FA] focus:ring-[#26A69A]"}`}),l.endDate&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.endDate})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Adults (18+)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("adults",Math.max(1,s.adults-1)),className:"w-10 h-10 rounded-full bg-[#E0F7FA] text-[#006064] hover:bg-[#26A69A] hover:text-white transition-colors font-bold",children:"âˆ’"}),e.jsx("span",{className:"text-2xl font-bold text-[#006064] w-12 text-center",children:s.adults}),e.jsx("button",{onClick:()=>n("adults",s.adults+1),className:"w-10 h-10 rounded-full bg-[#E0F7FA] text-[#006064] hover:bg-[#26A69A] hover:text-white transition-colors font-bold",children:"+"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Children (0-17)"}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("button",{onClick:()=>n("children",Math.max(0,s.children-1)),className:"w-10 h-10 rounded-full bg-[#E0F7FA] text-[#006064] hover:bg-[#26A69A] hover:text-white transition-colors font-bold",children:"âˆ’"}),e.jsx("span",{className:"text-2xl font-bold text-[#006064] w-12 text-center",children:s.children}),e.jsx("button",{onClick:()=>n("children",s.children+1),className:"w-10 h-10 rounded-full bg-[#E0F7FA] text-[#006064] hover:bg-[#26A69A] hover:text-white transition-colors font-bold",children:"+"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Budget (Optional)"}),e.jsxs("select",{value:s.budget,onChange:t=>n("budget",t.target.value),className:"w-full px-4 py-3 rounded-xl border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]",children:[e.jsx("option",{value:"",children:"Select budget range"}),e.jsx("option",{value:"budget",children:"Budget ($500 - $1,500)"}),e.jsx("option",{value:"moderate",children:"Moderate ($1,500 - $3,000)"}),e.jsx("option",{value:"luxury",children:"Luxury ($3,000+)"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Travel Style"}),e.jsxs("select",{value:s.travelStyle,onChange:t=>n("travelStyle",t.target.value),className:"w-full px-4 py-3 rounded-xl border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]",children:[e.jsx("option",{value:"",children:"Select your style"}),S.map(t=>e.jsx("option",{value:t,children:t},t))]})]}),e.jsxs("div",{className:"border-t border-[#E0F7FA] pt-6 mt-6",children:[e.jsx("h4",{className:"text-xl font-['Playfair_Display'] text-[#006064] mb-4",children:"Contact Information"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#006064] font-medium mb-2",children:["Your Name ",e.jsx("span",{className:"text-[#FF8A65]",children:"*"})]}),e.jsx("input",{type:"text",value:s.contactName,onChange:t=>n("contactName",t.target.value),placeholder:"John Doe",className:"w-full px-4 py-3 rounded-xl border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-[#006064] font-medium mb-2",children:["Email Address ",e.jsx("span",{className:"text-[#FF8A65]",children:"*"})]}),e.jsx("input",{type:"email",value:s.contactEmail,onChange:t=>n("contactEmail",t.target.value),placeholder:"john@example.com",className:"w-full px-4 py-3 rounded-xl border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Phone Number (Optional)"}),e.jsx("input",{type:"tel",value:s.contactPhone,onChange:t=>n("contactPhone",t.target.value),placeholder:"+254 700 000000",className:`w-full px-4 py-3 rounded-xl border focus:outline-none focus:ring-2 bg-[#FFF8E1] ${l.contactPhone?"border-red-500 focus:ring-red-200":"border-[#E0F7FA] focus:ring-[#26A69A]"}`}),l.contactPhone&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:l.contactPhone})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-[#006064] font-medium mb-2",children:"Interests (Select all that apply)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map(t=>e.jsx("button",{onClick:()=>C(t),className:`px-4 py-2 rounded-full text-sm font-medium transition-all ${s.interests.includes(t)?"bg-[#26A69A] text-white":"bg-[#E0F7FA] text-[#006064] hover:bg-[#26A69A] hover:text-white"}`,children:t},t))})]}),j&&e.jsxs("div",{className:"bg-[#E0F7FA] p-6 rounded-xl",children:[e.jsx("h4",{className:"font-bold text-[#006064] mb-3",children:"Trip Summary"}),e.jsxs("div",{className:"space-y-2 text-sm text-[#006064]/80",children:[e.jsxs("p",{children:["ðŸ“ ",e.jsx("strong",{children:"Destination:"})," ",s.destination]}),e.jsxs("p",{children:["ðŸ“… ",e.jsx("strong",{children:"Dates:"})," ",s.startDate," to ",s.endDate]}),e.jsxs("p",{children:["ðŸ‘¥ ",e.jsx("strong",{children:"Travelers:"})," ",s.adults," Adult",s.adults>1?"s":"",s.children>0?`, ${s.children} Child${s.children>1?"ren":""}`:""]}),s.budget&&e.jsxs("p",{children:["ðŸ’° ",e.jsx("strong",{children:"Budget:"})," ",s.budget]}),s.travelStyle&&e.jsxs("p",{children:["âœ¨ ",e.jsx("strong",{children:"Style:"})," ",s.travelStyle]}),s.interests.length>0&&e.jsxs("p",{children:["â¤ï¸ ",e.jsx("strong",{children:"Interests:"})," ",s.interests.join(", ")]})]})]})]}),e.jsx("button",{onClick:()=>{A()&&p(2)},disabled:!j,className:`w-full mt-8 px-6 py-4 rounded-full font-medium transition-all ${j?"bg-[#26A69A] text-white hover:bg-[#1F8B7F] hover:scale-105":"bg-[#E0F7FA] text-[#006064]/50 cursor-not-allowed"}`,children:"Continue to Planning Checklist â†’"})]}),c===2&&e.jsxs("div",{className:"bg-white rounded-3xl shadow-lg p-8",children:[e.jsx("button",{onClick:()=>p(1),className:"text-[#26A69A] hover:text-[#006064] mb-4 flex items-center gap-2",children:"â† Back to Travel Details"}),e.jsx("h3",{className:"text-3xl font-['Playfair_Display'] text-[#006064] mb-2",children:"Your Planning Checklist"}),e.jsx("p",{className:"text-[#006064]/70 mb-8",children:"Stay organized and stress-free"}),e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"w-full bg-[#E0F7FA] rounded-full h-3 overflow-hidden",children:e.jsx("div",{className:"bg-[#26A69A] h-full transition-all duration-500 ease-out",style:{width:`${R}%`}})}),e.jsxs("p",{className:"text-sm text-[#006064]/70 mt-2",children:[w," of ",o.length," tasks complete"]})]}),e.jsx("div",{className:"space-y-3 mb-6",children:o.map(t=>e.jsxs("div",{className:"flex items-center gap-3 p-4 bg-[#FFF8E1] rounded-xl hover:shadow-md transition-shadow",children:[e.jsx("input",{type:"checkbox",checked:t.done,onChange:()=>T(t.id),className:"w-5 h-5 cursor-pointer rounded accent-[#26A69A]"}),e.jsx("span",{className:`flex-1 ${t.done?"line-through text-[#006064]/50":"text-[#006064]"}`,children:t.label}),e.jsx("button",{onClick:()=>B(t.id),className:"text-[#FF8A65] hover:text-[#FF8A65]/70 transition-colors",children:"âœ•"})]},t.id))}),e.jsxs("div",{className:"flex gap-3 mb-6",children:[e.jsx("input",{type:"text",value:f,onChange:t=>F(t.target.value),onKeyDown:t=>t.key==="Enter"&&y(),placeholder:"Add a planning task...",className:"flex-1 px-4 py-3 rounded-full border border-[#E0F7FA] focus:outline-none focus:ring-2 focus:ring-[#26A69A] bg-[#FFF8E1]"}),e.jsx("button",{onClick:y,className:"px-6 py-3 bg-[#26A69A] text-white rounded-full hover:bg-[#1F8B7F] transition-colors font-medium",children:"Add Task"})]}),m&&m!=="success"&&e.jsx("div",{className:"mt-6 p-4 rounded-xl bg-red-50 border-2 border-red-500 text-red-800",children:e.jsxs("p",{className:"font-medium flex items-center gap-2",children:["âœ— ",E]})}),e.jsx("button",{onClick:P,disabled:h,className:`w-full px-6 py-4 rounded-full font-medium transition-all ${h?"bg-gray-400 text-white cursor-not-allowed":"bg-[#FF8A65] text-white hover:bg-[#E67E50] hover:scale-105"}`,children:h?"Submitting...":"Submit Trip Request"})]})]})}export{q as default};
